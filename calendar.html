<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Revelstoke Mountain Resort - Forecast History Calendar">
    <title>Yearly Stats | Revy Snow for Nerds</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="styles.css?v=50">
</head>
<body class="calendar-page">
    <div class="calendar-container">
        <script src="nav.js"></script>
        <snow-nav></snow-nav>

        <header class="calendar-header">
            <div class="year-nav">
                <button id="prev-year" class="year-btn" title="Previous Year">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                </button>
                <h1 id="current-year" class="year-display">2026</h1>
                <button id="next-year" class="year-btn" title="Next Year">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </button>
            </div>
            <div class="calendar-legend">
                <span class="legend-item"><span class="legend-dot up"></span>Forecast up</span>
                <span class="legend-item"><span class="legend-dot down"></span>Forecast down</span>
                <span class="legend-item"><span class="legend-dot unchanged"></span>No change</span>
            </div>
        </header>

        <div id="snowfall-chart" class="snowfall-chart">
            <div class="chart-header">
                <span class="chart-title">Season Total</span>
                <span id="chart-total" class="chart-total"></span>
            </div>
            <div id="chart-container" class="chart-container">
                <!-- SVG graph rendered here -->
            </div>
        </div>

        <div id="calendar-grid" class="calendar-grid">
            <!-- Months will be rendered here by JavaScript -->
        </div>

        <div id="loading-indicator" class="calendar-loading">
            <div class="loading-snowflakes">
                <span>❄</span><span>❄</span><span>❄</span>
            </div>
            <div class="loading-text"></div>
        </div>
    </div>

    <script src="auth.js" async></script>
    <script src="calendar.js?v=9"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings | Revy Snow for Nerds</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <script src="theme.js"></script>
    <link rel="stylesheet" href="styles.css?v=50">
</head>
<body class="settings-page">
    <div class="settings-container">
        <script src="nav.js"></script>
        <snow-nav></snow-nav>

        <main class="settings-content">
            <h1>Settings</h1>

            <div class="settings-section" id="theme-section" style="display:none">
                <h2>Color Theme</h2>
                <p class="settings-description">Choose a color scheme for the entire site.</p>
                <div id="theme-picker" class="theme-picker"></div>
            </div>

            <h2 class="settings-group-heading">TV Mode</h2>

            <div class="settings-section" id="tv-display-section" style="display:none">
                <h3>Display</h3>
                <p class="settings-description">Customize the TV mode layout.</p>

                <div class="settings-option-group">
                    <label class="settings-option-label">Webcam Size</label>
                    <div id="webcam-size-picker" class="option-picker"></div>
                </div>

                <div class="settings-option-group">
                    <label class="settings-option-label">Forecast Card Size</label>
                    <div id="forecast-size-picker" class="option-picker"></div>
                </div>

                <div class="settings-option-group">
                    <label class="settings-option-label">Ticker</label>
                    <div id="ticker-picker" class="option-picker"></div>
                </div>

                <div class="settings-option-group">
                    <label class="settings-option-label">Watermark</label>
                    <input type="text" id="watermark-input" class="settings-input"
                           placeholder="e.g. The Last Drop" maxlength="40">
                    <span class="settings-hint">Shown as a subtle overlay in TV mode</span>
                </div>
            </div>

            <div class="settings-section">
                <h3>Video Playlist</h3>
                <p class="settings-description">Add YouTube videos for your TV mode playlist. Paste the full YouTube URL or just its video ID.</p>

                <div id="playlist-form" class="playlist-add-form" style="display:none">
                    <input type="text" id="video-url-input" class="settings-input"
                           placeholder="YouTube URL or video ID">
                    <input type="text" id="video-title-input" class="settings-input settings-input-title"
                           placeholder="Title (optional)">
                    <button id="add-video-btn" class="settings-btn">Add</button>
                </div>

                <div id="playlist-items" class="playlist-items">
                    <div class="skeleton-item"><div class="skeleton-line skeleton-wide"></div><div class="skeleton-line skeleton-narrow"></div></div>
                    <div class="skeleton-item"><div class="skeleton-line skeleton-wide"></div><div class="skeleton-line skeleton-narrow"></div></div>
                    <div class="skeleton-item"><div class="skeleton-line skeleton-wide"></div><div class="skeleton-line skeleton-narrow"></div></div>
                    <div class="skeleton-item"><div class="skeleton-line skeleton-wide"></div><div class="skeleton-line skeleton-narrow"></div></div>
                </div>

                <div id="playlist-actions" class="playlist-actions" style="display:none">
                    <button id="reset-playlist-btn" class="settings-btn secondary">Reset to Default</button>
                </div>
            </div>

            <div class="settings-section" id="tv-link-section" style="display:none">
                <h3>TV Access Link</h3>
                <p class="settings-description">Use this link on your TV to skip sign-in. Anyone with this link can access your TV mode.</p>

                <div id="tv-token-display" class="tv-token-display">
                    <span id="tv-token-url" class="tv-token-url">No link generated yet</span>
                    <button id="tv-token-copy" class="settings-btn" style="display:none" title="Copy">Copy</button>
                </div>

                <div class="playlist-actions">
                    <button id="generate-token-btn" class="settings-btn">Generate Link</button>
                </div>
            </div>
        </main>

        <footer class="settings-footer">
            <p>Changes are saved automatically</p>
        </footer>
    </div>

    <script src="auth.js"></script>
    <script src="settings.js"></script>
</body>
</html>
